# React Authentication System - Visual Guide

## ğŸ¯ Complete Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APP INITIALIZATION                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User opens app â†’ main.jsx renders
2. AuthProvider wraps App
3. useEffect runs â†’ checks localStorage for token
4. If token exists â†’ calls loadUser(token)
5. GET /api/auth/me â†’ fetches current user
6. Sets user state â†’ App renders with auth context


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SIGNUP FLOW                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚      â”‚  Signup  â”‚      â”‚   Auth   â”‚      â”‚   API    â”‚
â”‚  Opens   â”‚ â”€â”€â”€> â”‚   Page   â”‚ â”€â”€â”€> â”‚ Context  â”‚ â”€â”€â”€> â”‚  Server  â”‚
â”‚  /signup â”‚      â”‚  /signup â”‚      â”‚          â”‚      â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                  â”‚                 â”‚
                        â”‚  1. Enter name   â”‚                 â”‚
                        â”‚     email        â”‚                 â”‚
                        â”‚     password     â”‚                 â”‚
                        â”‚     role         â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  2. Click        â”‚                 â”‚
                        â”‚     "Create      â”‚                 â”‚
                        â”‚     Account"     â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  3. Validate     â”‚                 â”‚
                        â”‚     form         â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  4. Call signup()â”‚                 â”‚
                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  5. POST        â”‚
                        â”‚                  â”‚     /auth/      â”‚
                        â”‚                  â”‚     register    â”‚
                        â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  6. Validate    â”‚
                        â”‚                  â”‚     data        â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  7. Create user â”‚
                        â”‚                  â”‚     Hash pwd    â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  8. Generate    â”‚
                        â”‚                  â”‚     JWT tokens  â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  9. Return      â”‚
                        â”‚                  â”‚     {token,user}â”‚
                        â”‚                  â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚ 10. Save token  â”‚
                        â”‚                  â”‚     to          â”‚
                        â”‚                  â”‚     localStorageâ”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚ 11. Set user    â”‚
                        â”‚                  â”‚     state       â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚ 12. Set axios   â”‚
                        â”‚                  â”‚     header      â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚ 13. Success!     â”‚                 â”‚
                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚ 14. Redirect to  â”‚                 â”‚
                        â”‚     /dashboard   â”‚                 â”‚
                        â”‚                  â”‚                 â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            LOGIN FLOW                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚      â”‚  Login   â”‚      â”‚   Auth   â”‚      â”‚   API    â”‚
â”‚  Opens   â”‚ â”€â”€â”€> â”‚   Page   â”‚ â”€â”€â”€> â”‚ Context  â”‚ â”€â”€â”€> â”‚  Server  â”‚
â”‚  /login  â”‚      â”‚  /login  â”‚      â”‚          â”‚      â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                  â”‚                 â”‚
                        â”‚  1. Enter email  â”‚                 â”‚
                        â”‚     password     â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  2. Click        â”‚                 â”‚
                        â”‚     "Sign in"    â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  3. Validate     â”‚                 â”‚
                        â”‚     form         â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  4. Call login() â”‚                 â”‚
                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  5. POST        â”‚
                        â”‚                  â”‚     /auth/login â”‚
                        â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  6. Find user   â”‚
                        â”‚                  â”‚     by email    â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  7. Compare     â”‚
                        â”‚                  â”‚     password    â”‚
                        â”‚                  â”‚     (bcrypt)    â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  8. Generate    â”‚
                        â”‚                  â”‚     JWT tokens  â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  9. Update      â”‚
                        â”‚                  â”‚     lastActive  â”‚
                        â”‚                  â”‚     isOnline    â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚ 10. Return      â”‚
                        â”‚                  â”‚     {token,user}â”‚
                        â”‚                  â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚ 11. Save token  â”‚
                        â”‚                  â”‚     to          â”‚
                        â”‚                  â”‚     localStorageâ”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚ 12. Set user    â”‚
                        â”‚                  â”‚     state       â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚ 13. Success!     â”‚                 â”‚
                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚ 14. Redirect to  â”‚                 â”‚
                        â”‚     /dashboard   â”‚                 â”‚
                        â”‚                  â”‚                 â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       PROTECTED ROUTE FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚      â”‚ Protectedâ”‚      â”‚   Auth   â”‚      â”‚  Target  â”‚
â”‚  Tries   â”‚ â”€â”€â”€> â”‚  Route   â”‚ â”€â”€â”€> â”‚ Context  â”‚ â”€â”€â”€> â”‚   Page   â”‚
â”‚  Access  â”‚      â”‚Component â”‚      â”‚          â”‚      â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                  â”‚                 â”‚
                        â”‚  1. Check        â”‚                 â”‚
                        â”‚     loading      â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚     If true:     â”‚                 â”‚
                        â”‚     Show spinner â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  2. Check        â”‚                 â”‚
                        â”‚     isAuth'd     â”‚                 â”‚
                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  3. Return       â”‚                 â”‚
                        â”‚     boolean      â”‚                 â”‚
                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  If false:       â”‚                 â”‚
                        â”‚  4. Redirect to  â”‚                 â”‚
                        â”‚     /login       â”‚                 â”‚
                        â”‚     (save        â”‚                 â”‚
                        â”‚     intended     â”‚                 â”‚
                        â”‚     location)    â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  If true:        â”‚                 â”‚
                        â”‚  5. Render       â”‚                 â”‚
                        â”‚     children     â”‚                 â”‚
                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
                        â”‚                  â”‚                 â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           LOGOUT FLOW                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚      â”‚  Any     â”‚      â”‚   Auth   â”‚      â”‚   API    â”‚
â”‚  Clicks  â”‚ â”€â”€â”€> â”‚Component â”‚ â”€â”€â”€> â”‚ Context  â”‚ â”€â”€â”€> â”‚  Server  â”‚
â”‚  Logout  â”‚      â”‚          â”‚      â”‚          â”‚      â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                  â”‚                 â”‚
                        â”‚  1. Call         â”‚                 â”‚
                        â”‚     logout()     â”‚                 â”‚
                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  2. POST        â”‚
                        â”‚                  â”‚     /auth/      â”‚
                        â”‚                  â”‚     logout      â”‚
                        â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  3. Invalidate  â”‚
                        â”‚                  â”‚     token       â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  4. Update user â”‚
                        â”‚                  â”‚     isOnline=   â”‚
                        â”‚                  â”‚     false       â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  5. Return OK   â”‚
                        â”‚                  â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  6. Clear       â”‚
                        â”‚                  â”‚     localStorageâ”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  7. Clear user  â”‚
                        â”‚                  â”‚     state       â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  8. Remove axiosâ”‚
                        â”‚                  â”‚     auth header â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  9. Success!     â”‚                 â”‚
                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚ 10. Redirect to  â”‚                 â”‚
                        â”‚     /login       â”‚                 â”‚
                        â”‚                  â”‚                 â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TOKEN EXPIRATION FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚      â”‚  Any API â”‚      â”‚  Axios   â”‚      â”‚   Auth   â”‚
â”‚  Makes   â”‚ â”€â”€â”€> â”‚   Call   â”‚ â”€â”€â”€> â”‚Interceptorâ”€â”€> â”‚ Context  â”‚
â”‚ Request  â”‚      â”‚          â”‚      â”‚          â”‚      â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                  â”‚                 â”‚
                        â”‚  1. API call     â”‚                 â”‚
                        â”‚     with token   â”‚                 â”‚
                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  2. Token       â”‚
                        â”‚                  â”‚     expired     â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  3. Server      â”‚
                        â”‚                  â”‚     returns 401 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  4. Interceptor â”‚
                        â”‚                  â”‚     catches 401 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  5. Call        â”‚
                        â”‚                  â”‚     logout()    â”‚
                        â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚                  â”‚  6. Clear state â”‚
                        â”‚                  â”‚     & storage   â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  7. Show error   â”‚                 â”‚
                        â”‚     "Session     â”‚                 â”‚
                        â”‚     expired"     â”‚                 â”‚
                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
                        â”‚  8. Redirect to  â”‚                 â”‚
                        â”‚     /login       â”‚                 â”‚
                        â”‚                  â”‚                 â”‚
```

---

## ğŸ”„ State Management

```
AuthContext State:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  user: {                            â”‚
â”‚    _id, name, email, role,          â”‚
â”‚    avatar, bio, skills,             â”‚
â”‚    isOnline, lastActive             â”‚
â”‚  } or null                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  loading: true/false                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  token: "jwt_token" or null         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  isAuthenticated: computed          â”‚
â”‚    = !!(user && token)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ localStorage Structure

```
localStorage:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  key: "token"                       â”‚
â”‚  value: "eyJhbGciOiJIUzI1NiIs..."  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ Axios Configuration

```
On Token Set:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ axios.defaults.headers.common       â”‚
â”‚ ['Authorization'] =                 â”‚
â”‚   "Bearer eyJhbGciOiJIUzI1NiIs..." â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

On Logout:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ delete axios.defaults.headers       â”‚
â”‚        .common['Authorization']     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Response Interceptor:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ If response.status === 401:         â”‚
â”‚   â†’ Call logout()                   â”‚
â”‚   â†’ Redirect to /login              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Component Hierarchy

```
main.jsx
  â””â”€â”€ <React.StrictMode>
        â””â”€â”€ <BrowserRouter>
              â””â”€â”€ <AuthProvider>          â† Provides auth context
                    â””â”€â”€ <QueryClientProvider>
                          â””â”€â”€ <App>
                                â”œâ”€â”€ <Routes>
                                â”‚     â”œâ”€â”€ /login        â†’ <Login />
                                â”‚     â”œâ”€â”€ /signup       â†’ <Signup />
                                â”‚     â””â”€â”€ /dashboard    â†’ <ProtectedRoute>
                                â”‚                            â””â”€â”€ <Dashboard />
                                â””â”€â”€ <Toaster />
```

---

## ğŸ” Security Flow

```
1. Password Handling:
   User Password (plain) 
      â†’ Frontend: Never logged
      â†’ Backend: Hashed with bcrypt (10 rounds)
      â†’ Database: Only hash stored
      â†’ Response: Never returned

2. Token Security:
   JWT Generated
      â†’ Contains: {id, email, role}
      â†’ Signed with: JWT_SECRET
      â†’ Expires in: 7 days (configurable)
      â†’ Stored in: localStorage
      â†’ Sent as: Authorization: Bearer <token>

3. Auto-Logout on:
   - Token expiration (401 error)
   - User clicks logout
   - Token invalid/tampered

4. Protected Routes:
   No Token
      â†’ Redirect to /login
      â†’ Save intended location
      â†’ After login â†’ Redirect back
```

---

*Visual Guide Created: November 3, 2025*
